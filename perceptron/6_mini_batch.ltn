{"creationTime":1644756194731,"name":"notebook","chunks":[{"name":"NotebookFiles","data":{"files":[{"dataUri":"data:text/plain;base64,IyDRgNCw0LfQtNC10LvRj9C10Lwg0LLRi9Cx0L7RgNC60YMg0L3QsCDQvNC40L3QuC3Qv9Cw0LrQtdGC0YsKZGVmIGdldF9taW5pX2JhdGNoZXMoaW5wLCBvdXQsIHNpemUpOgogICAgbWluaV9iYXRjaGVzID0gW10gICMg0LzQuNC90Lgt0L/QsNC60LXRgtGLCiAgICAjINC10YHQu9C4IHNpemUgPiAwLCDRgtC+INGA0LDQt9C00LXQu9GP0LXQvCDQv9Cw0LrQtdGCINC90LAg0LzQuNC90Lgt0L/QsNC60LXRgtGLCiAgICB3aGlsZSBsZW4oaW5wKSA+IHNpemUgPiAwOgogICAgICAgICMg0LfQsNC60LjQtNGL0LLQsNC10Lwg0LrQvtGA0YLQtdC2INC80LjQvdC4LdC/0LDQutC10YIgKGlucCwgb3V0KQogICAgICAgIG1pbmlfYmF0Y2hlcy5hcHBlbmQoKG5wLmFycmF5KGlucFs6c2l6ZV0pLCBucC5hcnJheShvdXRbOnNpemVdKSkpCiAgICAgICAgIyDRgdC+0LrRgNCw0YnQsNC10Lwg0LzQsNGB0YHQuNCy0YsKICAgICAgICBpbnAgPSBpbnBbc2l6ZTpdCiAgICAgICAgb3V0ID0gb3V0W3NpemU6XQogICAgIyDQsiDQutC+0L3RhtC1INC30LDQutC40LTRi9Cy0LDQtdC8INC+0YHRgtCw0YLQutC4ICjQuNC70Lgg0LLQtdGB0Ywg0L/QsNC60LXRgiwg0LXRgdC70Lggc2l6ZSA8PSAwKQogICAgbWluaV9iYXRjaGVzLmFwcGVuZCgobnAuYXJyYXkoaW5wKSwgbnAuYXJyYXkob3V0KSkpCiAgICAjINCy0L7Qt9Cy0YDQsNGJ0LDQtdC8INC80LjQvdC4LdC/0LDQutC10YLRiwogICAgcmV0dXJuIG1pbmlfYmF0Y2hlcwoKCmRlZiBsZWFybihpbnAsIG91dCwKICAgICAgICAgIHN5bmFwc2VzLCBiaWFzZXMsCiAgICAgICAgICBscj0uMSwKICAgICAgICAgIGVwb2Nocz0xMDAwMCwKICAgICAgICAgIGVycl9lbmRfY29lZj0wLAogICAgICAgICAgZXJyX3ByaW50X2ZyZXF1ZW5jeT0xMDAsCgogICAgICAgICAgIyDQtNC+0LHQsNCy0LvRj9C10Lwg0L/QsNGA0LDQvNC10YLRgCDQtNC70Y8g0L7QsdGD0YfQtdC90LjRjwogICAgICAgICAgbWluaV9iYXRjaF9sZW49MCwgICMg0LrQvtC70LjRh9C10YHRgtCy0L4g0Y3Qu9C10LzQtdC90YLQvtCyINCyINC+0LTQvdC+0Lwg0LzQuNC90Lgt0L/QsNC60LXRgtC1CiAgICAgICAgICAjINC10YHQu9C4IG1pbmlfYmF0Y2hfbGVuIDw9IDAsINGC0L4g0YDQsNC30LTQtdC70LXQvdC40Y8g0L3QtSDQvNC40L3QuC3Qv9Cw0LrQtdGC0Ysg0L3QtSDQv9GA0L7QuNC30L7QudC00ZHRgiA6KQogICAgICAgICAgKToKCiAgICAjINGA0LDQt9C00LXQu9GP0LXQvCDQstGL0LHQvtGA0LrRgyDQvdCwINC80LjQvdC4LdC/0LDQutC10YLRiwogICAgbWluaV9iYXRjaGVzID0gZ2V0X21pbmlfYmF0Y2hlcyhpbnAsIG91dCwgbWluaV9iYXRjaF9sZW4pCgogICAgIyDQv9GA0L7RhdC+0LQg0L/QviDRjdC/0L7RhdCw0LwKICAgIGZvciBlcG9jaCBpbiByYW5nZShlcG9jaHMpOgoKICAgICAgICBlcnIgPSAwCiAgICAgICAgIyDQv9GA0L7RhdC+0LQg0L/QviDQvNC40L3QuC3Qv9Cw0LrQtdGC0LDQvCwg0LIg0YDQtdC30YPQu9GM0YLQsNGC0LUg0L/RgNC+0YXQvtC00LAg0L/QvtC70YPRh9Cw0LXQvCDQvtGI0LjQsdC60YMKICAgICAgICBmb3IgaW5wdXQsIG91dHB1dCBpbiBtaW5pX2JhdGNoZXM6CiAgICAgICAgICAgIGVyciArPSBiYWNrcHJvcChpbnB1dCwgb3V0cHV0LCBzeW5hcHNlcywgYmlhc2VzLCBscikKICAgICAgICAjINC00LXQu9Cw0LXQvCDQuNC3INGB0YPQvNC80Ysg0L7RiNC40LHQvtC6INGB0YDQtdC00L3QtdC1INC30L3QsNGH0LXQvdC40LUKICAgICAgICAjINC00LvRjyDRjdGC0L7Qs9C+INC/0YDQvtGB0YLQviDQv9C+0LTQtdC70LjQvCDRgdGD0LzQvNGDINC+0YjQuNCx0L7QuiDQvdCwINC60L7Qu9C40YfQtdGB0YLQstC+INC80LjQvdC4LdC/0LDQutC10YLQvtCyCiAgICAgICAgZXJyIC89IGxlbihtaW5pX2JhdGNoZXMpCgogICAgICAgICMg0LLRi9Cy0L7QtNC40Lwg0L7RiNC40LHQutGDINCyINC60L7QvdGB0L7Qu9GMINC/0YDQuCDQvdC10L7QsdGF0L7QtNC40LzQvtGB0YLQuAogICAgICAgIGlmIG5vdCAoZXBvY2ggJSBlcnJfcHJpbnRfZnJlcXVlbmN5KTogcHJpbnQoIkxvc3M6ICIsIHN0cihlcnIpKQogICAgICAgICMg0LXRgdC70Lgg0L7RiNC40LHQutCwINC80LXQvdGM0YjQtSDRgtGA0LXQsdGD0LXQvNC+0LksINGC0L4g0LfQsNCy0LXRgNGI0LDQtdC8INC+0LHRg9GH0LXQvdC40LUKICAgICAgICBpZiBlcnIgPCBlcnJfZW5kX2NvZWY6IGJyZWFrCg==","name":"mb.py","type":"text/plain","lastModified":1624459674000}]},"title":"Files"},{"name":"MarkDownExecutor","data":{"md":"\r\n# Улучшение: Мини-пакеты\r\n\r\n\r\n___\r\n\r\n\r\nВ теоретической статье я писал что видов градиентного спуска бывает несколько:\r\n- **Стохастический** (его еще иногда называют онлайн) метод работает по следующему принципу —\r\nнашел Δw для одного элемента выборки, сразу обнови соответствующий вес.\r\n- **Пакетный** метод же работает по другому. Мы суммируем Δw всех весов на текущей итерации\r\nи только потом обновляем все веса используя эту сумму. Один из самых важных плюсов\r\nтакого подхода — это значительная экономия времени на вычисление, точность же в таком случае может пострадать.\r\n- **Мини-пакетный** метод является золотой серединой и пытается совместить в себе плюсы\r\nобоих методов. Здесь принцип таков: мы в свободном порядке распределяем веса\r\nпо группам и меняем их веса на сумму Δw всех весов в той или иной группе.\r\n\r\n\r\nВ нашем случае реализован **пакетный** метод градиентного спуска. Чтобы сделать его мини-пакетным,\r\nнужно в функции `learn` разбить пакеты на несколько мини-пакетов, и в одной итерации пропустить через функцию `backprop`\r\nвсе мини-пакеты.\r\n\r\nЭто хитрая реализация :) хитрая потому, что если задать `mini_batch_len <= 0`, то обучение будет работать как\r\n**Пакетный** метод. А если задать `mini_batch_len = 1`, то будет работать как **Стохастический** метод, т.к. будет\r\nделать проход для каждого элемента выборки отдельно. В других же случаях она будет работать как **Мини-пакетный** метод.\r\n\r\n<div id=\"editor_1\"></div>\r\n"},"title":"Markdown"},{"name":"JSExecutor","data":{"code":"((async() => {\n    \n    let mb1_txt = await LTN.files.getFileAsText(\"mb.py\");\n    \n    var editor_1 = ace.edit(\"editor_1\");\n    editor_1.getSession().setValue(mb1_txt);\n\teditor_1.getSession().setMode(\"ace/mode/python\");\n\teditor_1.setOptions({maxLines: 60, minLines: 20});\n    \n})());"},"title":"JavaScript executor"}]}